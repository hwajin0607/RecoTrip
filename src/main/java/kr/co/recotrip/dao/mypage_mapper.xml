<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC
	"-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>

<mapper namespace="kr.co.recotrip.dao.MypageDAO">

	<select id="checkPW" resultType="string">
		SELECT pw FROM t2_member WHERE id=#{param1} AND PW=#{param2}
	</select>
	
	<select id="myDtList" resultType="hashmap">
		SELECT diary_number, diary_subject, diary_reg_date FROM t2_diary WHERE id=#{param1}
	</select>
	
	<select id="myReviewList" resultType="hashmap">
		SELECT d.dest_num, d.dest_name, r.review_content, r.review_reg_data, ra.rating FROM t2_review r 
		INNER JOIN t2_dest d ON r.dest_num = d.dest_num  INNER JOIN t2_rating ra ON d.dest_num = ra.dest_num
		WHERE r.id=#{param1}
	</select>
	
	<select id="myReplyList" resultType="hashmap">
		SELECT  dr.reply_content, dr.reply_reg_date, dr.diary_number, d.diary_subject
		FROM t2_diary_reply dr INNER JOIN t2_diary d ON dr.diary_number = d.diary_number WHERE dr.id = #{param1}
	</select>
	
</mapper>